<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function() {  /* widget controller */  var c = this;};]]></client_script>
        <controller_as>c</controller_as>
        <css>body {
    font-family: Arial, sans-serif;
    background-color: #e9f5db;
    margin: 0;
    padding: 20px;
}
.poppins-extralight {
  font-family: "Poppins", sans-serif;
  font-weight: 200;
  font-style: normal;
}

.poppins-light {
  font-family: "Poppins", sans-serif;
  font-weight: 300;
  font-style: normal;
}
.poppins-regular {
  font-family: "Poppins", sans-serif;
  font-weight: 400;
  font-style: normal;
}

.poppins-semibold {
  font-family: "Poppins", sans-serif;
  font-weight: 600;
  font-style: normal;
}
h2{
  text-align:center;
  margin-bottom:10px;
  color:#176B87;
}
hr.header-line{
  border: none; height: 5px;

}
.shopping-bag {
    max-width: 900px;
    margin: auto;
    background-color: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: relative;
    padding: 15px;
  	margin-top:20px;
  	margin-bottom:20px;
}
.shopping-bag-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
   // background-color: #f7f7f7;
    border-radius: 8px 8px 0 0;
    flex-wrap: wrap;
    position: relative;
}
.shopping-bag-header h2 {
    margin: 0;
    font-size: 24px;
    width: 100%;
}
.header-line {
    width: 100%;
    border: 0;
    height: 1px;
    background: #176B87;
    margin: 10px 0;
}
.category-bar {
    margin-right: auto;
}
.category-bar select {
    padding: 8px;
    border-radius: 15px;
    border: 1px solid #ccc;
}
.search-bar {
    margin-left: auto;
}
.search-bar input {
    padding: 8px;
    border-radius: 15px;
    border: 1px solid #ccc;
}
.shopping-item {
    display: flex;
    align-items: center;
    padding: 25px 15px;
    border-bottom: 3px solid #E1E8EE;
}
.shopping-item:last-child {
    border-bottom: none;
}
.shopping-item img {
    width: 150px;
    height: auto;
    margin-right: 20px;
}
.item-details {
    flex-grow: 1;
}
.item-details p {
    margin: 5px 0;
}
.item-details p.name {
    font-weight: bold;
    font-size: 18px;
}
.item-buttons {
    display: flex;
    gap: 10px;
}
.item-buttons button {
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.claim-item {
    background-color: #176B87;
    color: #ffffff;
    box-shadow: 0 4px 8px rgba(23, 107, 135, 0.4);
    transition: background-color 0.3s ease;
}

.claim-item:hover {
    background-color: #0f566e;
}
.cancel {
    background-color: #e6070e;
    color: #ffffff;
    box-shadow: 0 4px 8px rgba(230, 7, 14, 0.4);
    transition: background-color 0.3s ease;
}

.cancel:hover {
    background-color: #bf060c;
}

@media (max-width: 600px) {
    .shopping-item {
        flex-direction: column;
        align-items: flex-start;
    }
    .item-buttons {
        width: 100%;
        justify-content: space-between;
        margin-top: 10px;
    }
    .shopping-bag-header {
        flex-direction: column;
        align-items: flex-start;
    }
    .search-bar, .category-bar {
        position: static;
        margin-top: 10px;
        width: 100%;
    }
}

.empty-container {
    text-align: center;
    padding: 50px 0;
    font-size: 20px;
    color: #666;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>reserved_items</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Reserved Items</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	data.table = 'x_1383179_tradenow_item_list';
	data.items = [];
  var gr = new GlideRecord(data.table);
	gr.addQuery('status','reserved');
	gr.orderByDesc('sys_created_on');
	//gr.setLimit(4);
  gr.query();
	while (gr.next()) {
		var obj={
			sys_id:gr.getValue('sys_id'),
			name:gr.getValue('item_name'),
			description:gr.getValue('description'),
			category:gr.getDisplayValue('category'),
			condition:gr.getValue('condition'),
			//added
			created_on:gr.getValue('sys_created_on').toString().substring(0, 10),
			//
			//image_url: null
			image_url: gr.getDisplayValue('image'),
			watching: gr.getValue('total_watchers')
		};
		data.items.push(obj);
    }
	 console.log(data.items);
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>shyamal</sys_created_by>
        <sys_created_on>2024-06-10 14:43:26</sys_created_on>
        <sys_id>e7bea78083328210edb56060ceaad33c</sys_id>
        <sys_mod_count>39</sys_mod_count>
        <sys_name>Reserved Items</sys_name>
        <sys_package display_value="TradeNow" source="x_1383179_tradenow">48d5320c837d0610edb56060ceaad314</sys_package>
        <sys_policy/>
        <sys_scope display_value="TradeNow">48d5320c837d0610edb56060ceaad314</sys_scope>
        <sys_update_name>sp_widget_e7bea78083328210edb56060ceaad33c</sys_update_name>
        <sys_updated_by>shyamal</sys_updated_by>
        <sys_updated_on>2024-06-11 07:27:10</sys_updated_on>
        <template><![CDATA[<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;600&display=swap');
</style>
<div class="shopping-bag">
        <div class="shopping-bag-header">
        <h2 class="poppins-semibold">Reserved Item</h2>
            <hr class="header-line">
            <!--<div class="category-bar">
              <select name="condition" ng-model="c.selectedCondition" ng-options="condition.value as condition.label for condition in data.choices" ng-required="true">
                <option value="">Select Item Status</option>
              </select>
            </div>-->
            <div class="search-bar">
                <input class="poppins-light" ng-model="test" type="text" placeholder="Search for items...">
            </div>
        </div>
  <div ng-if="data.items.length === 0" class="empty-container">
    <p class="poppins-light">No item to show</p>
  </div>
        <div class="shopping-item" ng-repeat="item in data.items | filter: {name:test}">
            <img src="{{item.image_url}}" alt="Common Projects Bbball High">
            <div class="item-details">
                <p class="name">{{item.name}}</p>
                <p>Condition: {{item.condition}}</p>
                <p>Category: {{item.category}}</p>
            </div>
            <div class="item-buttons">
                  <button class="claim-item">Claim Item</button>
                <button class="cancel">Cancel Reservation</button>
            </div>
        </div>
        <!--<div class="shopping-item">
            <img src="https://via.placeholder.com/80" alt="Maison Margiela Future Sneakers">
            <div class="item-details">
                <p class="name">Maison Margiela Future Sneakers</p>
                <p>Condition: New</p>
                <p>Category: Sneakers</p>
            </div>
            <div class="item-buttons">
                <button class="get-item">Get Item</button>
                <button class="cancel-reservation">Cancel Reservation</button>
            </div>
        </div>
        <div class="shopping-item">
            <img src="https://via.placeholder.com/80" alt="Our Legacy Brushed Scarf">
            <div class="item-details">
                <p class="name">Our Legacy Brushed Scarf</p>
                <p>Condition: New</p>
                <p>Category: Accessories</p>
            </div>
            <div class="item-buttons">
                <button class="get-item">Get Item</button>
                <button class="cancel-reservation">Cancel Reservation</button>
            </div>
        </div>-->
    </div>]]></template>
    </sp_widget>
</record_update>
